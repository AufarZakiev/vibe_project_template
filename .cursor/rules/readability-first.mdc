---
description: Prioritize readability and maintainability over micro-optimizations
alwaysApply: true
---

# Readability First

Code is written for humans to read. Maintainability and clarity always win over clever tricks or micro-optimizations. Performance matters only when explicitly requested or when dealing with proven bottlenecks.

## Core Principles

- **Readable over clever** — No one cares about microseconds saved by unreadable code
- **Explicit over implicit** — Make intent obvious, even if it's more verbose
- **Consistent over "correct"** — Follow existing patterns in the codebase

## User's Preferences

- Functional style where possible (pure functions, immutability, avoid side effects)
- Language-native conventions (snake_case for Python, camelCase for JS/TS, etc.)
- Config objects instead of multiple arguments of the same nature

## Naming & Structure

- **Meaningful names** — No single-letter variables except loop indices (`i`, `j`)
- **Verb-noun for functions** — `getUserData()`, `calculate_total()`, not `data()` or `process()`
- **Boolean names as questions** — `is_valid`, `hasPermission`, `canEdit`

## Control Flow

- **Early returns** — Reduce nesting with guard clauses
- **Small functions** — If it needs scrolling, split it
- **Avoid deep nesting** — Max 2-3 levels; extract helpers if needed

```python
# ❌ BAD: Deep nesting
def process(data):
    if data:
        if data.is_valid:
            if data.user:
                return data.user.name

# ✅ GOOD: Guard clauses
def process(data):
    if not data:
        return None
    if not data.is_valid:
        return None
    if not data.user:
        return None
    return data.user.name
```

## Constants & Magic Values

- **No magic numbers/strings** — Use named constants
- **Group related constants** — Enums, frozen dataclasses, or const objects

```typescript
// ❌ BAD
if (status === 3) { ... }

// ✅ GOOD
const Status = { PENDING: 1, ACTIVE: 2, COMPLETED: 3 } as const;
if (status === Status.COMPLETED) { ... }
```

## Comments

- **Explain "why", not "what"** — Code shows what; comments explain intent
- **Delete commented-out code** — Version control exists for a reason
- **Update comments with code** — Stale comments are worse than none
- **Do not add comments if the code already duplicates most of the comment's body** — I hate reading something twice

## Exceptions to These Rules

User will explicitly state when:
- Performance is critical (hot paths, real-time systems)
- Memory constraints exist (embedded, large datasets)
- Specific algorithmic efficiency is required
